
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Filter Panel</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    .filter-panel {
      border-radius: 8px;
      margin: auto auto;
    }
.filter-panel {
  border-radius: 8px;
  margin: auto auto;
}

.filter-panel h4 {
  font-size: 1.25rem;
  font-weight: bold;
  margin-bottom: 16px;
  color: #333;
  margin-top: 0;
}

.filter-panel .flex {
  display: flex;
}

.filter-panel .gap-4 {
  gap: 1rem;
}

.filter-panel label {
  font-size: 1rem;
  font-weight: 600;
  color: #333;
  margin-bottom: 8px;
}

.filter-panel .filter-range {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 24px 12px 0;
  box-sizing: border-box;
  border-bottom: 1px #f0f0f0 solid;
}

.filter-panel .input-number {
  width: 80px;
  padding: 8px;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.filter-panel .slider-container {
  width: 100%;
  height: 4px;
  position: relative;
  background: #e4e4e4;
  border-radius: 5px;
}

.filter-panel .flex.items-center {
  align-items: center;
}

.filter-panel .gap-2 {
  gap: 0.5rem;
}

.filter-panel .checkbox-label {
  display: inline-block;
  margin-bottom: 4px;
  font-size: 0.9rem;
}

.filter-panel input[type="checkbox"] {
  accent-color: #007bff;
  margin-right: 8px;
}

.flex1 {
  justify-content: space-between;
  width: 100%;
  padding: 12px 0;
}

.cate {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 24px 0;
  border-bottom: 1px #f0f0f0 solid;
}

.filter-panel input[type="checkbox"]:focus {
  outline: none;
}

/* Reset Button */
.reset-button-container {
  width: 100%;
  display: flex;
  justify-content: space-between;
  margin-top: 16px;
  flex-direction: row-reverse;

}

.reset-button {
  border: 1px solid #1c3c78;
  color: #1c3c78;
  background-color: transparent;
  padding: 8px 16px;
  border-radius: 5px;
  cursor: pointer;
}

.reset-button:hover {
  background-color: #1c3c78;
  color: white;
}

/* Media Query for larger screens */
@media (min-width: 768px) {
  .filter-panel {
    max-width: 400px;
  }
}

.slider {
  width: 100%;
}

.slider {
  height: 4px;
  position: relative;
  background: #e4e4e4;
  border-radius: 5px;
}

.slider .price-slider {
  height: 4px;
  left: 25%;
  right: 15%;
  position: absolute;
  border-radius: 5px;
  background: #224893;
}

.range-input {
  position: relative;
}

.range-input input {
  position: absolute;
  width: 100%;
  height: 5px;
  background: none;
  top: -5px;
  pointer-events: none;
  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;
}

/* Styles for the range thumb in WebKit browsers */
input[type="range"]::-webkit-slider-thumb {
  height: 24px;
  width: 24px;
  border-radius: 70%;
  background: white;
  border: #224893 3px solid;
  pointer-events: auto;
  -webkit-appearance: none;
}

.h4 {
  display: flex;
  justify-content: space-between;
}

.h4 span {
  cursor: pointer;
  font-size: medium;
  color: #224893;
}

.apply-button {
  background-color: #224893;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 5px;
  cursor: pointer;
  margin-left: 10px;
}

.apply-button:hover {
  background-color: #1c3c78;
}
</style>
  </style>
</head>
<body>
  <div class="filter-panel">
    <div class="h4">
      <h4>Filters</h4>
      <span id="reset-filters">Reset All</span>
    </div>

    <!-- Price Range Filter -->
    <div class="filter-range">
      <label>Price Range</label>
      <div class="slider-container">
        <div class="slider">
          <div id="price-slider" class="price-slider"></div>
        </div>
        <div class="range-input">
          <input type="range" id="min-range" min="0" max="10000" />
          <input type="range" id="max-range" min="0" max="10000" />
        </div>
      </div>
      <div class="flex items-center gap-4 flex1">
        <input type="number" id="min-price" min="0" max="10000" class="input-number" />
        <input type="number" id="max-price" min="0" max="10000" class="input-number" />
      </div>
    </div>

    <!-- Use Filter -->
    <div class="cate" id="category-filters">
      <label class="checkbox-label">By Categories</label>
      <!-- Categories will be dynamically inserted here -->
    </div>

    <!-- Brand Filter -->
    <div class="cate" id="brand-filters">
      <label class="checkbox-label">By Brands</label>
      <!-- Brands will be dynamically inserted here -->
    </div>

    <!-- Reset Button -->
    <div class="reset-button-container">
      <button id="reset-button" class="reset-button">Reset</button>
      <button id="apply-button" class="apply-button">Apply Filters</button>
    </div>
  </div>

  <script>
    const minLimit = 0;
    const maxLimit = 10000;
    const priceGap = 500;

    const minRangeInput = document.getElementById("min-range");
    const maxRangeInput = document.getElementById("max-range");
    const minPriceInput = document.getElementById("min-price");
    const maxPriceInput = document.getElementById("max-price");
    const priceSlider = document.getElementById("price-slider");
    const resetButton = document.getElementById("reset-button");
    const applyButton = document.getElementById("apply-button");

    const categoryFilters = document.getElementById("category-filters");
    const brandFilters = document.getElementById("brand-filters");

    const products = [
      // Example product data for testing
      { id: 1, brand: "HP", use: "Business" },
      { id: 2, brand: "Lenovo", use: "Every use" },
      { id: 2, brand: "Asus", use: "School" },
      { id: 2, brand: "Apple", use: "Gaming" },
      { id: 2, brand: "Dell", use: "Gaming" },
      // Add more products here
    ];

    function initializeFilters() {
      const uniqueBrands = [...new Set(products.map(p => p.brand))];
      const uniqueUsages = [...new Set(products.map(p => p.use))];

      // Populate brands
      uniqueBrands.forEach(brand => {
        const div = document.createElement("div");
        div.classList.add("flex", "items-center", "gap-2");
        div.innerHTML = `
          <input type="checkbox" value="${brand}" id="brand-${brand}" />
          <label for="brand-${brand}">${brand}</label>
        `;
        brandFilters.appendChild(div);
      });

      // Populate usages
      uniqueUsages.forEach(use => {
        const div = document.createElement("div");
        div.classList.add("flex", "items-center", "gap-2");
        div.innerHTML = `
          <input type="checkbox" value="${use}" id="use-${use}" />
          <label for="use-${use}">${use}</label>
        `;
        categoryFilters.appendChild(div);
      });
    }

    function updateSliderStyle() {
      const left = (minRangeInput.value / maxLimit) * 100;
      const right = 100 - (maxRangeInput.value / maxLimit) * 100;
      priceSlider.style.left = `${left}%`;
      priceSlider.style.right = `${right}%`;
    }

    function resetFilters() {
      minRangeInput.value = minLimit;
      maxRangeInput.value = maxLimit;
      minPriceInput.value = minLimit;
      maxPriceInput.value = maxLimit;

      document.querySelectorAll("input[type='checkbox']").forEach(cb => {
        cb.checked = false;
      });

      updateSliderStyle();
    }

    function applyFilters() {
      const selectedBrands = Array.from(
        document.querySelectorAll("#brand-filters input:checked")
      ).map(cb => cb.value);

      const selectedUsages = Array.from(
        document.querySelectorAll("#category-filters input:checked")
      ).map(cb => cb.value);

      console.log("Filters applied:", {
        price: {
          min: minPriceInput.value,
          max: maxPriceInput.value,
        },
        brands: selectedBrands,
        usages: selectedUsages,
      });
    }

    minRangeInput.addEventListener("input", () => {
      if (parseInt(maxRangeInput.value) - parseInt(minRangeInput.value) < priceGap) {
        minRangeInput.value = maxRangeInput.value - priceGap;
      }
      minPriceInput.value = minRangeInput.value;
      updateSliderStyle();
    });

    maxRangeInput.addEventListener("input", () => {
      if (parseInt(maxRangeInput.value) - parseInt(minRangeInput.value) < priceGap) {
        maxRangeInput.value = parseInt(minRangeInput.value) + priceGap;
      }
      maxPriceInput.value = maxRangeInput.value;
      updateSliderStyle();
    });

    resetButton.addEventListener("click", resetFilters);
    applyButton.addEventListener("click", applyFilters);

    initializeFilters();
    resetFilters();
  </script>
</body>
</html>

